<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Device Info URL Generator</title>
</head>
<body>
    <script type="text/javascript">
        function randomString(length) {
            var chars = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-_";
            var result = '';
            for (var i = 0; i < length; i++) {
                result += chars.charAt(Math.floor(Math.random() * chars.length));
            }
            return result;
        }

        function getBrowserInfo() {
            var ua = navigator.userAgent;
            var tem;
            var M = ua.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i) || [];
            if (/trident/i.test(M[1])) {
                tem = /\brv[ :]+(\d+)/g.exec(ua) || [];
                return { name: 'IE', version: (tem[1] || '') };
            }
            if (M[1] === 'Chrome') {
                tem = ua.match(/\b(OPR|Edge)\/(\d+)/);
                if (tem != null) return { name: tem[1].replace('OPR', 'Opera'), version: tem[2] };
            }
            M = M[2] ? [M[1], M[2]] : [navigator.appName, navigator.appVersion, '-?'];
            if ((tem = ua.match(/version\/(\d+)/i)) != null) M.splice(1, 1, tem[1]);
            return {
                name: M[0],
                version: M[1]
            };
        }

        function getOS() {
            var platform = window.navigator.userAgentData?.platform || window.navigator.platform;
            var userAgent = window.navigator.userAgent;

            if (platform.includes('Mac')) return 'Mac OS';
            if (platform.includes('Win')) return 'Windows';
            if (/Android/.test(userAgent)) return 'Android';
            if (/Linux/.test(platform)) return 'Linux';
            if (/iPhone|iPad|iPod/.test(platform)) return 'iOS';

            return 'Unknown';
        }

        var docids = ['video_id_1'];
        var variables = ['eyJzdGF0dXMiOiJmYWlsIiwicmVhc29uIjoiSW52YWxpZCBwYXJhbWV0ZXJzLiIsImVycm9yY29kZSI6IjIifQ=='];
        var afmt_values = [140, 251, 250, 249];

        function generateUrls() {
            var browserInfo = getBrowserInfo();
            var os = getOS();
            var platform = navigator.userAgentData?.platform || navigator.platform;
            var player = "UNIPLAYER"; // Default player
            var cver = "2.20240606.06.00"; // Example version

            for (var x = 0; x < docids.length; x++) {
                var all_variables = JSON.parse(atob(variables[x]));
                var docid = docids[x];
                var videlen = 120; // Assuming length_seconds is 120 for simplicity
                var vid = randomString(32);

                var plid = all_variables.plid || randomString(16);
                var cpn = randomString(16);
                var rt = Math.floor(Math.random() * 11).toFixed(3);
                var ei = randomString(21);
                var cl = all_variables.cl || randomString(10);
                var vm = all_variables.vm || randomString(10);
                var volume = Math.floor((Math.random() * 100) + 40);
                var rtn = Math.floor((Math.random() * 15) + 10);
                var cmt = Math.floor((Math.random() * 10) + 1);
                var fexp = all_variables.fexp || randomString(10);
                var ldpj = all_variables.ldpj || randomString(10);
                var idpj = all_variables.idpj || randomString(10);

                for (var i = 0; i < 4; i++) {
                    var afmt = afmt_values[i % afmt_values.length];

                    var uri = '&euri=' + encodeURIComponent('https://www.youtube.com/watch?v=' + docid);

                    var url = "https://www.youtube.com/api/stats/watchtime?ns=yt&el=detailpage&cpn=" + cpn +
                        "&docid=" + docid + "&ver=2&referrer=https://www.youtube.com/watch?v=" + docid +
                        "&cmt=" + cmt + "&plid=" + plid + "&ei=" + ei + "&fmt=244&fs=0&rt=" + rt +
                        "&afmt=" + afmt + "&content_v=vbph9F_pRNI&of=0UMsAsiWjMai5HFoBEgwKg" + uri +
                        "&lact=1901&cl=" + cl + "&state=playing&vm=" + vm + "&volume=" + volume +
                        "&c=" + browserInfo.name + "&cver=" + cver + "&cplayer=" + player +
                        "&cbrand=" + (navigator.userAgentData?.brands[0]?.brand || 'unknown') +
                        "&cbr=" + browserInfo.name + "&cbrver=" + browserInfo.version +
                        "&cmodel=gt-i9300&cos=" + os + "&cosver=" + platform + "&cplatform=" + platform +
                        "&hl=en_US&cr=IN&len=" + videlen + "&fexp=" + fexp + "&rtn=" + rtn + "&idpj=" + idpj + "&ldpj=" + ldpj + "&muted=0&st=11&et=188";

                    // Create the iframe
                    var iframe = document.createElement('iframe');
                    iframe.src = url;
                    iframe.style.width = '1px';
                    iframe.style.height = '1px';
                    iframe.style.border = '0';
                    iframe.style.position = 'absolute';
                    iframe.style.visibility = 'hidden';
                    iframe.sandbox = 'allow-scripts allow-same-origin';

                    // Append iframe to body
                    document.body.appendChild(iframe);
                }
            }
        }

        generateUrls();
    </script>
</body>
</html>
